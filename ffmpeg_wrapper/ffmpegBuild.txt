How to Build an ffmpeg with s265:

1. Build libs265
Before building s265 on Linux, you should install the list of tools below:
    gcc 4.8.5 or newer
    nasm
You can build the code by the following steps:
   cd s265/source
   mkdir build
   cmake ..
   make 
then, you will found the generated build files   s265/libs265.a/s265_config.h/s265.pc  in directory s265/

2. Build ffmpeg with libs265
  1) change to ffmpeg directory
    mkdir 3rd/libs265/include
    mkdir 3rd/libs265/lib
    mkdir 3rd/libs265/pkgconfig
  2) change to s265 directory
    cp s265.h s265_config.h  ../ffmpeg/3rd/libs265/include
    cp libs265.a libs265.so  ../ffmpeg/3rd/libs265/lib
    cp s265.pc  ../ffmpeg/3rd/libs265/pkgconfig
    cp libs265.c to ffmpeg/libavcodec
  3) back to ffmpeg directory
     change ./configure file by everywhere there is a row with "x265", adding a copied line with replacing "x265" to "s265"
     change libavcodec/Makefile by everywhere there is a row with "x265", adding a copied line with replacing "x265" to "s265"
     change libavcodec/allcodecs.c by everywhere there is a row with "x265", adding a copied line with replacing "x265" to "s265"
     ##eg: an recommended change can be referenced by  the patch file "libs265_support_diff.patch" in s265/ffmpeg_wrapper
  4) configure with libs265 by adding some options like below:
     ./configure --extra-cflags='-I./3rd/libs265/include'\
                 --extra-ldflags='-L./3rd/libs265/lib'\
                 --extra-libs='./3rd/libs265/lib/libs265.a -lstdc++ -lm -lrt -ldl'\
                 --enable-libs265
  5) run make to generate an ffmpeg
     make

3. coding example test
   ./ffmpeg -i xxx.mp4  -c:v libs265 -preset slow  -crf 23  -s265-params bframes=7   -y tests265.mp4





